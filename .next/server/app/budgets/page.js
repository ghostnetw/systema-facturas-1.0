(()=>{var e={};e.id=927,e.ids=[927],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3861:(e,t,s)=>{Promise.resolve().then(s.bind(s,96928))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13964:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),a=s(24934),n=s(55192),i=s(27553),o=s(96474),d=s(10022),c=s(71444),l=s(57175),u=s(13964),p=s(11860),x=s(88233),h=s(85814),m=s.n(h),f=s(59821),v=s(83544),g=s(16189),j=s(52581);let b=e=>{switch(e){case"Aceptado":return{variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-100"};case"Rechazado":return{variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-100"};default:return{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}}};function y(){let e=(0,g.useRouter)(),{budgets:t,addInvoice:s,deleteBudget:h,updateBudget:y}=(0,i.U)();return(0,r.jsx)(v.b,{children:(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Presupuestos"}),(0,r.jsx)(a.$,{asChild:!0,children:(0,r.jsxs)(m(),{href:"/budgets/new",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Nuevo Presupuesto"]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Lista de Presupuestos"}),(0,r.jsx)(n.BT,{children:"Gestiona tus presupuestos y convi\xe9rtelos en facturas"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:0===t.length?(0,r.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,r.jsx)(d.A,{className:"mx-auto h-12 w-12 opacity-50 mb-4"}),(0,r.jsx)("p",{children:"No hay presupuestos creados"}),(0,r.jsx)("p",{className:"text-sm",children:"Los presupuestos que crees aparecer\xe1n aqu\xed"})]}):t.map(t=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(m(),{href:`/budgets/${t.id}`,className:"text-lg font-medium hover:underline",children:t.client}),(0,r.jsx)(f.E,{...b(t.status),children:t.status})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Presupuesto: ",t.id]}),(0,r.jsxs)("p",{children:["Total: ",t.total]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{children:["Fecha: ",t.date]}),(0,r.jsxs)("p",{children:["V\xe1lido hasta: ",t.validUntil]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Imprimir presupuesto",children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Editar presupuesto",onClick:()=>e.push(`/budgets/${t.id}/edit`),children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}),"Pendiente"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Aprobar presupuesto",onClick:()=>{y(t.id,{status:"Aceptado"}),j.oR.success("Presupuesto aprobado correctamente")},children:(0,r.jsx)(u.A,{className:"h-4 w-4 text-green-600"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Rechazar presupuesto",onClick:()=>{y(t.id,{status:"Rechazado"}),j.oR.error("Presupuesto rechazado")},children:(0,r.jsx)(p.A,{className:"h-4 w-4 text-red-600"})})]}),"Aceptado"===t.status&&(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Convertir a factura",onClick:()=>{s({id:crypto.randomUUID(),client:t.client,cif:t.cif,amount:t.amount,tax:t.tax,total:t.total,status:"Pendiente",date:new Date().toLocaleDateString("es-ES"),dueDate:new Date(Date.now()+2592e6).toLocaleDateString("es-ES"),items:t.items}),j.oR.success("Presupuesto convertido a factura correctamente"),e.push("/invoices")},children:(0,r.jsx)(d.A,{className:"h-4 w-4"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Eliminar presupuesto",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este presupuesto?")&&(h(t.id),j.oR.success("Presupuesto eliminado correctamente"))},children:(0,r.jsx)(x.A,{className:"h-4 w-4 text-red-600"})})]})]},t.id))})})]})]})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},52263:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),o=s(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let c={children:["",{children:["budgets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96928)),"C:\\Users\\admin\\Desktop\\facturaciondev2.0\\facturacion2.0\\app\\budgets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\admin\\Desktop\\facturaciondev2.0\\facturacion2.0\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["C:\\Users\\admin\\Desktop\\facturaciondev2.0\\facturacion2.0\\app\\budgets\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/budgets/page",pathname:"/budgets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},59821:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var r=s(60687);s(43210);var a=s(24224),n=s(96241);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...s})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},94133:(e,t,s)=>{Promise.resolve().then(s.bind(s,21762))},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},96928:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\admin\\\\Desktop\\\\facturaciondev2.0\\\\facturacion2.0\\\\app\\\\budgets\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\admin\\Desktop\\facturaciondev2.0\\facturacion2.0\\app\\budgets\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,840,814,581,918,170],()=>s(52263));module.exports=r})();
(()=>{var e={};e.id=927,e.ids=[927],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4426:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},7439:(e,t,s)=>{"use strict";var r=s(37995);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8298:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(45781),a=s(44238),n=s(14784),i=s(5469),d=s(44186),l=s(68902),o=s(24436),c=s(14455),u=s(28108),h=s(79252),x=s(41225),p=s(28328),m=s.n(p),f=s(59173),g=s(52127),v=s(7439),y=s(4915);let b=e=>{switch(e){case"Aceptado":return{variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-100"};case"Rechazado":return{variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-100"};default:return{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}}};function j(){let e=(0,v.useRouter)(),{budgets:t,addInvoice:s,deleteBudget:p,updateBudget:j}=(0,i.U)();return(0,r.jsx)(g.b,{children:(0,r.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Presupuestos"}),(0,r.jsx)(a.$,{asChild:!0,children:(0,r.jsxs)(m(),{href:"/budgets/new",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Nuevo Presupuesto"]})})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Lista de Presupuestos"}),(0,r.jsx)(n.BT,{children:"Gestiona tus presupuestos y convi\xe9rtelos en facturas"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:0===t.length?(0,r.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,r.jsx)(l.A,{className:"mx-auto h-12 w-12 opacity-50 mb-4"}),(0,r.jsx)("p",{children:"No hay presupuestos creados"}),(0,r.jsx)("p",{className:"text-sm",children:"Los presupuestos que crees aparecer\xe1n aqu\xed"})]}):t.map(t=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(m(),{href:`/budgets/${t.id}`,className:"text-lg font-medium hover:underline",children:t.client}),(0,r.jsx)(f.E,{...b(t.status),children:t.status})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Presupuesto: ",t.id]}),(0,r.jsxs)("p",{children:["Total: ",t.total]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{children:["Fecha: ",t.date]}),(0,r.jsxs)("p",{children:["V\xe1lido hasta: ",t.validUntil]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Imprimir presupuesto",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Editar presupuesto",onClick:()=>e.push(`/budgets/${t.id}/edit`),children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}),"Pendiente"===t.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Aprobar presupuesto",onClick:()=>{j(t.id,{status:"Aceptado"}),y.oR.success("Presupuesto aprobado correctamente")},children:(0,r.jsx)(u.A,{className:"h-4 w-4 text-green-600"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Rechazar presupuesto",onClick:()=>{j(t.id,{status:"Rechazado"}),y.oR.error("Presupuesto rechazado")},children:(0,r.jsx)(h.A,{className:"h-4 w-4 text-red-600"})})]}),"Aceptado"===t.status&&(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Convertir a factura",onClick:()=>{s({id:crypto.randomUUID(),client:t.client,cif:t.cif,amount:t.amount,tax:t.tax,total:t.total,status:"Pendiente",date:new Date().toLocaleDateString("es-ES"),dueDate:new Date(Date.now()+2592e6).toLocaleDateString("es-ES"),items:t.items}),y.oR.success("Presupuesto convertido a factura correctamente"),e.push("/invoices")},children:(0,r.jsx)(l.A,{className:"h-4 w-4"})}),(0,r.jsx)(a.$,{variant:"outline",size:"icon",title:"Eliminar presupuesto",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este presupuesto?")&&(p(t.id),y.oR.success("Presupuesto eliminado correctamente"))},children:(0,r.jsx)(x.A,{className:"h-4 w-4 text-red-600"})})]})]},t.id))})})]})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14455:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},14784:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>d,wL:()=>u});var r=s(45781),a=s(13072),n=s(77401);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24436:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},28108:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37275:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41225:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},43261:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o});var r=s(7025),a=s(18198),n=s(82576),i=s.n(n),d=s(45239),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o={children:["",{children:["budgets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,65636)),"C:\\Users\\admin\\Downloads\\facturacion\\app\\budgets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,59650)),"C:\\Users\\admin\\Downloads\\facturacion\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,53117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,6874,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\admin\\Downloads\\facturacion\\app\\budgets\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/budgets/page",pathname:"/budgets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},43714:(e,t,s)=>{Promise.resolve().then(s.bind(s,65636))},44132:(e,t,s)=>{"use strict";s.d(t,{Y:()=>c});var r=s(45781),a=s(28328),n=s.n(a),i=s(44238),d=s(68902),l=s(55456),o=s(37275);function c(){return(0,r.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:[(0,r.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,r.jsx)(n(),{href:"/",className:"text-xl font-semibold md:hidden",children:"RESINA ROSARIO, S.L."})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"hidden md:flex md:gap-2",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(n(),{href:"/invoices",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Facturas"]})}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(n(),{href:"/clients",children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Clientes"]})})]}),(0,r.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(n(),{href:"/settings",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Configuraci\xf3n"]})}),(0,r.jsx)(i.$,{size:"sm",asChild:!0,children:(0,r.jsx)(n(),{href:"/invoices/new",children:"Nueva Factura"})})]})]})}},44186:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},44238:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>l});var r=s(45781),a=s(13072),n=s(21956),i=s(87990),d=s(77401);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...i},o)=>{let c=a?n.DX:"button";return(0,r.jsx)(c,{className:(0,d.cn)(l({variant:t,size:s,className:e})),ref:o,...i})});o.displayName="Button"},46336:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},46915:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},52127:(e,t,s)=>{"use strict";s.d(t,{b:()=>m});var r=s(45781),a=s(44132),n=s(28328),i=s.n(n),d=s(7439),l=s(46336),o=s(4426),c=s(68902),u=s(55456),h=s(46915),x=s(37275);function p(){let e=(0,d.usePathname)(),t=t=>!!("/"===t&&"/"===e||"/"!==t&&e.startsWith(t));return(0,r.jsx)("div",{className:"hidden border-r bg-gray-50/40 md:block md:w-64",children:(0,r.jsxs)("div",{className:"flex h-full flex-col gap-2 p-4",children:[(0,r.jsx)("div",{className:"flex h-14 items-center border-b px-4 font-semibold",children:"RESINA ROSARIO, S.L."}),(0,r.jsxs)("nav",{className:"grid gap-1 px-2 pt-2",children:[(0,r.jsxs)(i(),{href:"/",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),"Dashboard"]}),(0,r.jsxs)(i(),{href:"/budgets",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/budgets")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),"Presupuestos"]}),(0,r.jsxs)(i(),{href:"/invoices",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/invoices")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),"Facturas"]}),(0,r.jsxs)(i(),{href:"/clients",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/clients")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"Clientes"]}),(0,r.jsxs)(i(),{href:"/reports",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/reports")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),"Informes"]}),(0,r.jsxs)(i(),{href:"/settings",className:`flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ${t("/settings")?"bg-gray-100 text-gray-900":""}`,children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Configuraci\xf3n"]})]})]})})}function m({children:e}){return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,r.jsx)(a.Y,{}),(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsx)(p,{}),(0,r.jsx)("main",{className:"flex-1",children:e})]})]})}},55456:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},59173:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var r=s(45781);s(13072);var a=s(87990),n=s(77401);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...s})}},61866:(e,t,s)=>{Promise.resolve().then(s.bind(s,8298))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65636:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(51129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\admin\\\\Downloads\\\\facturacion\\\\app\\\\budgets\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\admin\\Downloads\\facturacion\\app\\budgets\\page.tsx","default")},68902:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(22752).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[550,328,915,593],()=>s(43261));module.exports=r})();
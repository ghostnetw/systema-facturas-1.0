"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{39464:(e,t,r)=>{r.d(t,{Y:()=>o});var a=r(95155),s=r(6874),n=r.n(s),i=r(97168),l=r(57434),d=r(17580),c=r(381);function o(){return(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,a.jsx)(n(),{href:"/",className:"text-xl font-semibold md:hidden",children:"RESINA ROSARIO, S.L."})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex md:gap-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(n(),{href:"/invoices",children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Facturas"]})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(n(),{href:"/clients",children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Clientes"]})})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(n(),{href:"/settings",children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Configuraci\xf3n"]})}),(0,a.jsx)(i.$,{size:"sm",asChild:!0,children:(0,a.jsx)(n(),{href:"/invoices/new",children:"Nueva Factura"})})]})]})}},42181:(e,t,r)=>{r.d(t,{AppProvider:()=>o,U:()=>g});var a=r(95155),s=r(12115);let n=[{id:"INV-2024-001",client:"Empresa ABC S.L.",cif:"B12345678",date:"01/01/2024",dueDate:"15/01/2024",items:[{id:1,description:"Servicios de consultor\xeda",price:1e3,tax:21}],amount:"1000,00",tax:"210,00",total:"1210,00",status:"Pagada"}],i=[{id:1,name:"Empresa ABC S.L.",cif:"B12345678",address:"Calle Principal 123",postalCode:"28001",city:"Madrid",province:"Madrid",phone:"912345678",email:"contacto@empresaabc.com"}],l=(0,s.createContext)(void 0),d=(e,t)=>{try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading ".concat(e," from localStorage:"),t)}return t},c=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error("Error saving ".concat(e," to localStorage:"),t)}};function o(e){let{children:t}=e,[r,o]=(0,s.useState)([]),[g,x]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=d("invoices",n),t=d("budgets",[]),r=d("clients",i);o(e),x(t),f(r),h(!0)},[]),(0,s.useEffect)(()=>{m&&(c("invoices",r),c("budgets",g),c("clients",u))},[r,g,u,m]);let p=e=>{let[t,r,a]=e.split("/").map(Number);return new Date(a,r-1,t)};return(0,a.jsx)(l.Provider,{value:{invoices:r,addInvoice:e=>{o(t=>[...t,e])},updateInvoice:(e,t)=>{o(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteInvoice:e=>{o(t=>t.filter(t=>t.id!==e))},getInvoiceById:e=>r.find(t=>t.id===e),budgets:g,addBudget:e=>{x(t=>[...t,e])},updateBudget:(e,t)=>{x(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteBudget:e=>{x(t=>t.filter(t=>t.id!==e))},getBudgetById:e=>g.find(t=>t.id===e),clients:u,addClient:e=>{let t=Math.max(0,...u.map(e=>e.id))+1,r={...e,id:t};f(e=>[...e,r])},updateClient:(e,t)=>{f(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteClient:e=>{f(t=>t.filter(t=>t.id!==e))},getClientById:e=>u.find(t=>t.id===e),getTotalBilling:()=>r.reduce((e,t)=>e+Number.parseFloat(t.total.replace("€","").replace(",","")),0),getPendingInvoicesCount:()=>r.filter(e=>"Pendiente"===e.status).length,getActiveClientsCount:()=>{let e=new Date;e.setMonth(e.getMonth()-3);let t=new Set;return r.forEach(r=>{p(r.date)>=e&&t.add(r.client)}),t.size},getQuarterlyVAT:()=>{let e=new Date,t=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1);return r.filter(e=>p(e.date)>=t).reduce((e,t)=>e+Number.parseFloat(t.tax.replace("€","").replace(",","")),0)}},children:t})}function g(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},53999:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},77229:(e,t,r)=>{r.d(t,{b:()=>m});var a=r(95155),s=r(39464),n=r(6874),i=r.n(n),l=r(35695),d=r(57340),c=r(6740),o=r(57434),g=r(17580),x=r(72713),u=r(381);function f(){let e=(0,l.usePathname)(),t=t=>!!("/"===t&&"/"===e||"/"!==t&&e.startsWith(t));return(0,a.jsx)("div",{className:"hidden border-r bg-gray-50/40 md:block md:w-64",children:(0,a.jsxs)("div",{className:"flex h-full flex-col gap-2 p-4",children:[(0,a.jsx)("div",{className:"flex h-14 items-center border-b px-4 font-semibold",children:"RESINA ROSARIO, S.L."}),(0,a.jsxs)("nav",{className:"grid gap-1 px-2 pt-2",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Dashboard"]}),(0,a.jsxs)(i(),{href:"/budgets",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/budgets")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"Presupuestos"]}),(0,a.jsxs)(i(),{href:"/invoices",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/invoices")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),"Facturas"]}),(0,a.jsxs)(i(),{href:"/clients",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/clients")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Clientes"]}),(0,a.jsxs)(i(),{href:"/reports",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/reports")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Informes"]}),(0,a.jsxs)(i(),{href:"/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/settings")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Configuraci\xf3n"]}),(0,a.jsxs)(i(),{href:"/login",className:"flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 ".concat(t("/login")?"bg-gray-100 text-gray-900":""),children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Login"]})]})]})})}function m(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,a.jsx)(s.Y,{}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)(f,{}),(0,a.jsx)("main",{className:"flex-1",children:t})]})]})}},88482:(e,t,r)=>{r.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>g});var a=r(95155),s=r(12115),n=r(53999);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});g.displayName="CardFooter"},97168:(e,t,r)=>{r.d(t,{$:()=>c,r:()=>d});var a=r(95155),s=r(12115),n=r(99708),i=r(74466),l=r(53999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...o}=e,g=c?n.DX:"button";return(0,a.jsx)(g,{className:(0,l.cn)(d({variant:s,size:i,className:r})),ref:t,...o})});c.displayName="Button"}}]);
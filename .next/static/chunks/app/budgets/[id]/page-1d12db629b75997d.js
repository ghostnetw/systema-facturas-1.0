(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{381:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6740:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},17580:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},35169:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},53442:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var t=a(95155),d=a(97168),l=a(88482),i=a(42181),r=a(35169),c=a(89917),n=a(81304),h=a(57434),o=a(6874),m=a.n(o),u=a(35695),x=a(12115),p=a(77229),j=a(56671);function v(e){var s;let{params:a}=e,o=(0,u.useRouter)(),{getBudgetById:v,addInvoice:f}=(0,i.U)(),[y,N]=(0,x.useState)(null);return((0,x.useEffect)(()=>{let e=v(a.id);e?N(e):(j.oR.error("Presupuesto no encontrado"),o.push("/budgets"))},[a.id,v]),y)?(0,t.jsx)(p.b,{children:(0,t.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(d.$,{variant:"outline",size:"icon",asChild:!0,children:(0,t.jsx)(m(),{href:"/budgets",children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Detalles del Presupuesto"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(m(),{href:"/budgets/".concat(y.id,"/edit"),children:[(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Editar"]})}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>window.print(),children:[(0,t.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Imprimir"]}),(0,t.jsxs)(d.$,{onClick:()=>{f({id:crypto.randomUUID(),client:y.client,cif:y.cif,amount:y.amount,tax:y.tax,total:y.total,status:"Pendiente",date:new Date().toLocaleDateString("es-ES"),dueDate:new Date(Date.now()+2592e6).toLocaleDateString("es-ES"),items:y.items}),j.oR.success("Presupuesto convertido a factura correctamente"),o.push("/invoices")},children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Convertir a Factura"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Informaci\xf3n del Presupuesto"}),(0,t.jsx)(l.BT,{children:"Detalles completos del presupuesto"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Cliente"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:y.client})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"CIF/NIF"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:y.cif})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Fecha"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:y.date})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"V\xe1lido hasta"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:y.validUntil})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Conceptos"}),(0,t.jsx)("div",{className:"space-y-2",children:null===(s=y.items)||void 0===s?void 0:s.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-2 border rounded",children:[(0,t.jsxs)("div",{className:"col-span-6",children:[(0,t.jsx)("p",{className:"font-medium",children:"Descripci\xf3n"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"Cantidad"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.quantity})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"Precio"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[e.price,"€"]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"font-medium",children:"IVA"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[e.tax,"%"]})]})]},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Base Imponible"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[y.amount,"€"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"IVA"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[y.tax,"€"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Total"}),(0,t.jsxs)("p",{className:"text-xl font-bold",children:[y.total,"€"]})]})]}),y.notes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium",children:"Notas"}),(0,t.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:y.notes})]})]})]})]})}):null}},57088:(e,s,a)=>{Promise.resolve().then(a.bind(a,53442))},57340:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},57434:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},72713:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},81304:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},89917:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(19946).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[455,874,671,294,441,684,358],()=>s(57088)),_N_E=e.O()}]);
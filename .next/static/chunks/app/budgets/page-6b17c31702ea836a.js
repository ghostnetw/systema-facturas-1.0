(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{1390:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},19651:(e,t,s)=>{"use strict";var a=s(54571);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},20636:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(58081),r=s(5160),i=s(86810),l=s(48388),n=s(43210),d=s(62544),c=s(1390),u=s(80459),o=s(76722),h=s(22522),p=s(72235),x=s(47950),y=s.n(x),m=s(85977),v=s(18283),k=s(19651),f=s(61773);let j=e=>{switch(e){case"Aceptado":return{variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-100"};case"Rechazado":return{variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-100"};default:return{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}}};function g(){let e=(0,k.useRouter)(),{budgets:t,addInvoice:s,deleteBudget:x,updateBudget:g}=(0,l.U)();return(0,a.jsx)(v.b,{children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Presupuestos"}),(0,a.jsx)(r.$,{asChild:!0,children:(0,a.jsxs)(y(),{href:"/budgets/new",children:[(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Nuevo Presupuesto"]})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Lista de Presupuestos"}),(0,a.jsx)(i.BT,{children:"Gestiona tus presupuestos y convi\xe9rtelos en facturas"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===t.length?(0,a.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,a.jsx)(d.A,{className:"mx-auto h-12 w-12 opacity-50 mb-4"}),(0,a.jsx)("p",{children:"No hay presupuestos creados"}),(0,a.jsx)("p",{className:"text-sm",children:"Los presupuestos que crees aparecer\xe1n aqu\xed"})]}):t.map(t=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(y(),{href:"/budgets/".concat(t.id),className:"text-lg font-medium hover:underline",children:t.client}),(0,a.jsx)(m.E,{...j(t.status),children:t.status})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Presupuesto: ",t.id]}),(0,a.jsxs)("p",{children:["Total: ",t.total]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{children:["Fecha: ",t.date]}),(0,a.jsxs)("p",{children:["V\xe1lido hasta: ",t.validUntil]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Imprimir presupuesto",children:(0,a.jsx)(c.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Editar presupuesto",onClick:()=>e.push("/budgets/".concat(t.id,"/edit")),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),"Pendiente"===t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Aprobar presupuesto",onClick:()=>{g(t.id,{status:"Aceptado"}),f.oR.success("Presupuesto aprobado correctamente")},children:(0,a.jsx)(o.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Rechazar presupuesto",onClick:()=>{g(t.id,{status:"Rechazado"}),f.oR.error("Presupuesto rechazado")},children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-red-600"})})]}),"Aceptado"===t.status&&(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Convertir a factura",onClick:()=>{s({id:crypto.randomUUID(),client:t.client,cif:t.cif,amount:t.amount,tax:t.tax,total:t.total,status:"Pendiente",date:new Date().toLocaleDateString("es-ES"),dueDate:new Date(Date.now()+2592e6).toLocaleDateString("es-ES"),items:t.items}),f.oR.success("Presupuesto convertido a factura correctamente"),e.push("/invoices")},children:(0,a.jsx)(d.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"icon",title:"Eliminar presupuesto",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este presupuesto?")&&(x(t.id),f.oR.success("Presupuesto eliminado correctamente"))},children:(0,a.jsx)(p.A,{className:"h-4 w-4 text-red-600"})})]})]},t.id))})})]})]})})}},21107:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},22522:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},43210:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},48822:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},62544:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},72235:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76722:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},80459:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},83427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},84790:(e,t,s)=>{Promise.resolve().then(s.bind(s,20636))},85977:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(58081);s(82149);var r=s(23484),i=s(87687);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:s}),t),...r})}},90018:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},97938:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(51018).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[816,950,773,561,497,954,358],()=>t(84790)),_N_E=e.O()}]);
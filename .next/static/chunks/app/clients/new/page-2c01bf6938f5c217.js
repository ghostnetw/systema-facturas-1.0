(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{381:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14503:(e,t,a)=>{"use strict";a.d(t,{d:()=>h,o:()=>u});var s=a(12115);let r={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},i=0,l=new Map,n=(e,t)=>{switch(t.type){case r.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case r.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case r.DISMISS_TOAST:{let{toastId:a}=t;return a?m(a):e.toasts.forEach(e=>{m(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case r.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function o(e){c=n(c,e),d.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(i=(i+1)%Number.MAX_VALUE).toString(),s=()=>o({type:r.DISMISS_TOAST,toastId:a});return o({type:r.ADD_TOAST,toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>o({type:r.UPDATE_TOAST,toast:{...e,id:a}})}}function h(){let[e,t]=s.useState(c);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:r.DISMISS_TOAST,toastId:e})}}function m(e){if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),o({type:r.REMOVE_TOAST,toastId:e})},1e6);l.set(e,t)}},17580:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},35169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,t,a)=>{"use strict";var s=a(18999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},39464:(e,t,a)=>{"use strict";a.d(t,{Y:()=>o});var s=a(95155),r=a(6874),i=a.n(r),l=a(97168),n=a(57434),d=a(17580),c=a(381);function o(){return(0,s.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:[(0,s.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,s.jsx)(i(),{href:"/",className:"text-xl font-semibold md:hidden",children:"RESINA ROSARIO, S.L."})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"hidden md:flex md:gap-2",children:[(0,s.jsx)(l.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsxs)(i(),{href:"/invoices",children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Facturas"]})}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsxs)(i(),{href:"/clients",children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Clientes"]})})]}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)(i(),{href:"/settings",children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Configuraci\xf3n"]})}),(0,s.jsx)(l.$,{size:"sm",asChild:!0,children:(0,s.jsx)(i(),{href:"/invoices/new",children:"Nueva Factura"})})]})]})}},40968:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var s=a(12115),r=a(63655),i=a(95155),l=s.forwardRef((e,t)=>(0,i.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=l},42181:(e,t,a)=>{"use strict";a.d(t,{AppProvider:()=>o,U:()=>u});var s=a(95155),r=a(12115);let i=[{id:"INV-2024-001",client:"Empresa ABC S.L.",cif:"B12345678",date:"01/01/2024",dueDate:"15/01/2024",items:[{id:1,description:"Servicios de consultor\xeda",price:1e3,tax:21}],amount:"1000,00",tax:"210,00",total:"1210,00",status:"Pagada"}],l=[{id:1,name:"Empresa ABC S.L.",cif:"B12345678",address:"Calle Principal 123",postalCode:"28001",city:"Madrid",province:"Madrid",phone:"912345678",email:"contacto@empresaabc.com"}],n=(0,r.createContext)(void 0),d=(e,t)=>{try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading ".concat(e," from localStorage:"),t)}return t},c=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error("Error saving ".concat(e," to localStorage:"),t)}};function o(e){let{children:t}=e,[a,o]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[f,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=d("invoices",i),t=d("budgets",[]),a=d("clients",l);o(e),h(t),p(a),x(!0)},[]),(0,r.useEffect)(()=>{f&&(c("invoices",a),c("budgets",u),c("clients",m))},[a,u,m,f]);let v=e=>{let[t,a,s]=e.split("/").map(Number);return new Date(s,a-1,t)};return(0,s.jsx)(n.Provider,{value:{invoices:a,addInvoice:e=>{o(t=>[...t,e])},updateInvoice:(e,t)=>{o(a=>a.map(a=>a.id===e?{...a,...t}:a))},deleteInvoice:e=>{o(t=>t.filter(t=>t.id!==e))},getInvoiceById:e=>a.find(t=>t.id===e),budgets:u,addBudget:e=>{h(t=>[...t,e])},updateBudget:(e,t)=>{h(a=>a.map(a=>a.id===e?{...a,...t}:a))},deleteBudget:e=>{h(t=>t.filter(t=>t.id!==e))},getBudgetById:e=>u.find(t=>t.id===e),clients:m,addClient:e=>{let t=Math.max(0,...m.map(e=>e.id))+1,a={...e,id:t};p(e=>[...e,a])},updateClient:(e,t)=>{p(a=>a.map(a=>a.id===e?{...a,...t}:a))},deleteClient:e=>{p(t=>t.filter(t=>t.id!==e))},getClientById:e=>m.find(t=>t.id===e),getTotalBilling:()=>a.reduce((e,t)=>e+Number.parseFloat(t.total.replace("€","").replace(",","")),0),getPendingInvoicesCount:()=>a.filter(e=>"Pendiente"===e.status).length,getActiveClientsCount:()=>{let e=new Date;e.setMonth(e.getMonth()-3);let t=new Set;return a.forEach(a=>{v(a.date)>=e&&t.add(a.client)}),t.size},getQuarterlyVAT:()=>{let e=new Date,t=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1);return a.filter(e=>v(e.date)>=t).reduce((e,t)=>e+Number.parseFloat(t.tax.replace("€","").replace(",","")),0)}},children:t})}function u(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},53763:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(95155),r=a(12115),i=a(35695),l=a(42181),n=a(97168),d=a(88482),c=a(89852),o=a(82714),u=a(35169),h=a(6874),m=a.n(h),p=a(39464),f=a(14503);function x(){let e=(0,i.useRouter)(),{addClient:t}=(0,l.U)(),[a,h]=(0,r.useState)(""),[x,v]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[b,S]=(0,r.useState)(""),[A,C]=(0,r.useState)(""),[T,w]=(0,r.useState)(""),[E,I]=(0,r.useState)(""),[M,D]=(0,r.useState)("");return(0,s.jsxs)("div",{className:"flex min-h-screen w-full flex-col",children:[(0,s.jsx)(p.Y,{}),(0,s.jsxs)("main",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(n.$,{variant:"outline",size:"icon",asChild:!0,children:(0,s.jsx)(m(),{href:"/clients",children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Nuevo Cliente"})]}),(0,s.jsxs)(d.Zp,{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Informaci\xf3n del Cliente"}),(0,s.jsx)(d.BT,{children:"A\xf1ade un nuevo cliente a tu base de datos"})]}),(0,s.jsxs)(d.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Datos Generales"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-name",children:"Nombre/Raz\xf3n Social"}),(0,s.jsx)(c.p,{id:"client-name",placeholder:"Nombre del cliente",value:a,onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-cif",children:"CIF/NIF"}),(0,s.jsx)(c.p,{id:"client-cif",placeholder:"B12345678",value:x,onChange:e=>v(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Direcci\xf3n"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-address",children:"Direcci\xf3n"}),(0,s.jsx)(c.p,{id:"client-address",placeholder:"Calle, n\xfamero, piso...",value:g,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-postal",children:"C\xf3digo Postal"}),(0,s.jsx)(c.p,{id:"client-postal",placeholder:"28001",value:y,onChange:e=>N(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-city",children:"Ciudad"}),(0,s.jsx)(c.p,{id:"client-city",placeholder:"Madrid",value:b,onChange:e=>S(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-province",children:"Provincia"}),(0,s.jsx)(c.p,{id:"client-province",placeholder:"Madrid",value:A,onChange:e=>C(e.target.value)})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Contacto"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-phone",children:"Tel\xe9fono"}),(0,s.jsx)(c.p,{id:"client-phone",placeholder:"912345678",value:T,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-email",children:"Email"}),(0,s.jsx)(c.p,{id:"client-email",type:"email",placeholder:"cliente@ejemplo.com",value:E,onChange:e=>I(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Informaci\xf3n Adicional"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"client-notes",children:"Notas"}),(0,s.jsx)(c.p,{id:"client-notes",placeholder:"Informaci\xf3n adicional sobre el cliente",value:M,onChange:e=>D(e.target.value)})]})]})]}),(0,s.jsxs)(d.wL,{className:"flex justify-end gap-4",children:[(0,s.jsx)(n.$,{variant:"outline",asChild:!0,children:(0,s.jsx)(m(),{href:"/clients",children:"Cancelar"})}),(0,s.jsx)(n.$,{onClick:()=>{if(!a||!x||!g||!y||!b||!A){(0,f.o)({title:"Error",description:"Por favor, completa todos los campos obligatorios.",variant:"destructive"});return}t({id:0,name:a,cif:x,address:g,postalCode:y,city:b,province:A,phone:T,email:E}),(0,f.o)({title:"Cliente creado",description:"El cliente ".concat(a," ha sido creado correctamente.")}),e.push("/clients")},children:"Guardar Cliente"})]})]})]})]})}},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(52596),r=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},57434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},59217:(e,t,a)=>{Promise.resolve().then(a.bind(a,53763))},63655:(e,t,a)=>{"use strict";a.d(t,{hO:()=>d,sG:()=>n});var s=a(12115),r=a(47650),i=a(99708),l=a(95155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=s.forwardRef((e,a)=>{let{asChild:s,...r}=e,n=s?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...r,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function d(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var s=a(95155),r=a(12115),i=a(40968),l=a(74466),n=a(53999);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,n.cn)(d(),a),...r})});c.displayName=i.b.displayName},88482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>u});var s=a(95155),r=a(12115),i=a(53999);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(95155),r=a(12115),i=a(53999);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>d});var s=a(95155),r=a(12115),i=a(99708),l=a(74466),n=a(53999);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:c=!1,...o}=e,u=c?i.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(d({variant:r,size:l,className:a})),ref:t,...o})});c.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[455,874,441,684,358],()=>t(59217)),_N_E=e.O()}]);
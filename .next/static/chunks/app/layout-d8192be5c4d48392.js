(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5845:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(12115),s=r(39033);function i({prop:e,defaultProp:t,onChange:r=()=>{}}){let[i,o]=function({defaultProp:e,onChange:t}){let r=n.useState(e),[i]=r,o=n.useRef(i),a=(0,s.c)(t);return n.useEffect(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,u=a?e:i,l=(0,s.c)(r);return[u,n.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else o(t)},[a,e,o,l])]}},14503:(e,t,r)=>{"use strict";r.d(t,{d:()=>f,o:()=>c});var n=r(12115);let s={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},i=0,o=new Map,a=(e,t)=>{switch(t.type){case s.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case s.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case s.DISMISS_TOAST:{let{toastId:r}=t;return r?m(r):e.toasts.forEach(e=>{m(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case s.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},u=[],l={toasts:[]};function d(e){l=a(l,e),u.forEach(e=>{e(l)})}function c(e){let{...t}=e,r=(i=(i+1)%Number.MAX_VALUE).toString(),n=()=>d({type:s.DISMISS_TOAST,toastId:r});return d({type:s.ADD_TOAST,toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:s.UPDATE_TOAST,toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(l);return n.useEffect(()=>(u.push(t),()=>{let e=u.indexOf(t);e>-1&&u.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:s.DISMISS_TOAST,toastId:e})}}function m(e){if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),d({type:s.REMOVE_TOAST,toastId:e})},1e6);o.set(e,t)}},19178:(e,t,r)=>{"use strict";r.d(t,{lg:()=>y,qW:()=>f,bL:()=>g});var n,s=r(12115),i=r(85185),o=r(63655),a=r(6101),u=r(39033),l=r(95155),d="dismissableLayer.update",c=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f=s.forwardRef((e,t)=>{var r,f;let{disableOutsidePointerEvents:m=!1,onEscapeKeyDown:g,onPointerDownOutside:y,onFocusOutside:h,onInteractOutside:E,onDismiss:b,...N}=e,w=s.useContext(c),[x,S]=s.useState(null),T=null!==(f=null==x?void 0:x.ownerDocument)&&void 0!==f?f:null===(r=globalThis)||void 0===r?void 0:r.document,[,O]=s.useState({}),A=(0,a.s)(t,e=>S(e)),D=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),P=D.indexOf(C),M=x?D.indexOf(x):-1,_=w.layersWithOutsidePointerEventsDisabled.size>0,I=M>=P,L=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===(t=globalThis)||void 0===t?void 0:t.document,n=(0,u.c)(e),i=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let t=function(){v("dismissableLayer.pointerDownOutside",n,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(r.removeEventListener("click",o.current),o.current=t,r.addEventListener("click",o.current,{once:!0})):t()}else r.removeEventListener("click",o.current);i.current=!1},t=window.setTimeout(()=>{r.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),r.removeEventListener("pointerdown",e),r.removeEventListener("click",o.current)}},[r,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...w.branches].some(e=>e.contains(t));!I||r||(null==y||y(e),null==E||E(e),e.defaultPrevented||null==b||b())},T),R=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===(t=globalThis)||void 0===t?void 0:t.document,n=(0,u.c)(e),i=s.useRef(!1);return s.useEffect(()=>{let e=e=>{e.target&&!i.current&&v("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return r.addEventListener("focusin",e),()=>r.removeEventListener("focusin",e)},[r,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;[...w.branches].some(e=>e.contains(t))||(null==h||h(e),null==E||E(e),e.defaultPrevented||null==b||b())},T);return!function(e,t=globalThis?.document){let r=(0,u.c)(e);s.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{M===w.layers.size-1&&(null==g||g(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},T),s.useEffect(()=>{if(x)return m&&(0===w.layersWithOutsidePointerEventsDisabled.size&&(n=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(x)),w.layers.add(x),p(),()=>{m&&1===w.layersWithOutsidePointerEventsDisabled.size&&(T.body.style.pointerEvents=n)}},[x,T,m,w]),s.useEffect(()=>()=>{x&&(w.layers.delete(x),w.layersWithOutsidePointerEventsDisabled.delete(x),p())},[x,w]),s.useEffect(()=>{let e=()=>O({});return document.addEventListener(d,e),()=>document.removeEventListener(d,e)},[]),(0,l.jsx)(o.sG.div,{...N,ref:A,style:{pointerEvents:_?I?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.m)(e.onFocusCapture,R.onFocusCapture),onBlurCapture:(0,i.m)(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:(0,i.m)(e.onPointerDownCapture,L.onPointerDownCapture)})});f.displayName="DismissableLayer";var m=s.forwardRef((e,t)=>{let r=s.useContext(c),n=s.useRef(null),i=(0,a.s)(t,n);return s.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,l.jsx)(o.sG.div,{...e,ref:i})});function p(){let e=new CustomEvent(d);document.dispatchEvent(e)}function v(e,t,r,n){let{discrete:s}=n,i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?(0,o.hO)(i,a):i.dispatchEvent(a)}m.displayName="DismissableLayerBranch";var g=f,y=m},19324:()=>{},28905:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(12115),s=r(6101),i=r(52712),o=e=>{let{present:t,children:r}=e,o=function(e){var t,r;let[s,o]=n.useState(),u=n.useRef({}),l=n.useRef(e),d=n.useRef("none"),[c,f]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return n.useEffect(()=>{let e=a(u.current);d.current="mounted"===c?e:"none"},[c]),(0,i.N)(()=>{let t=u.current,r=l.current;if(r!==e){let n=d.current,s=a(t);e?f("MOUNT"):"none"===s||(null==t?void 0:t.display)==="none"?f("UNMOUNT"):r&&n!==s?f("ANIMATION_OUT"):f("UNMOUNT"),l.current=e}},[e,f]),(0,i.N)(()=>{if(s){var e;let t;let r=null!==(e=s.ownerDocument.defaultView)&&void 0!==e?e:window,n=e=>{let n=a(u.current).includes(e.animationName);if(e.target===s&&n&&(f("ANIMATION_END"),!l.current)){let e=s.style.animationFillMode;s.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=e)})}},i=e=>{e.target===s&&(d.current=a(u.current))};return s.addEventListener("animationstart",i),s.addEventListener("animationcancel",n),s.addEventListener("animationend",n),()=>{r.clearTimeout(t),s.removeEventListener("animationstart",i),s.removeEventListener("animationcancel",n),s.removeEventListener("animationend",n)}}f("ANIMATION_END")},[s,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:n.useCallback(e=>{e&&(u.current=getComputedStyle(e)),o(e)},[])}}(t),u="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),l=(0,s.s)(o.ref,function(e){var t,r;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(s=(n=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}(u));return"function"==typeof r||o.isPresent?n.cloneElement(u,{ref:l}):null};function a(e){return(null==e?void 0:e.animationName)||"none"}o.displayName="Presence"},34378:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(12115),s=r(47650),i=r(63655),o=r(52712),a=r(95155),u=n.forwardRef((e,t)=>{var r,u;let{container:l,...d}=e,[c,f]=n.useState(!1);(0,o.N)(()=>f(!0),[]);let m=l||c&&(null===(u=globalThis)||void 0===u?void 0:null===(r=u.document)||void 0===r?void 0:r.body);return m?s.createPortal((0,a.jsx)(i.sG.div,{...d,ref:t}),m):null});u.displayName="Portal"},34693:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>o});var n=r(95155),s=r(60677),i=r(14503);function o(){let{toasts:e}=(0,i.d)();return(0,n.jsxs)(s.tE,{children:[e.map(e=>{let{id:t,title:r,description:i,action:o,...a}=e;return(0,n.jsxs)(s.y8,{...a,children:[(0,n.jsxs)("div",{className:"grid gap-1",children:[r&&(0,n.jsx)(s.Sb,{children:r}),i&&(0,n.jsx)(s.aD,{children:i})]}),o,(0,n.jsx)(s.eC,{})]},t)}),(0,n.jsx)(s.US,{})]})}},39033:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(12115);function s(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},42181:(e,t,r)=>{"use strict";r.d(t,{AppProvider:()=>d,U:()=>c});var n=r(95155),s=r(12115);let i=[{id:"INV-2024-001",client:"Empresa ABC S.L.",cif:"B12345678",date:"01/01/2024",dueDate:"15/01/2024",items:[{id:1,description:"Servicios de consultor\xeda",price:1e3,tax:21}],amount:"1000,00",tax:"210,00",total:"1210,00",status:"Pagada"}],o=[{id:1,name:"Empresa ABC S.L.",cif:"B12345678",address:"Calle Principal 123",postalCode:"28001",city:"Madrid",province:"Madrid",phone:"912345678",email:"contacto@empresaabc.com"}],a=(0,s.createContext)(void 0),u=(e,t)=>{try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading ".concat(e," from localStorage:"),t)}return t},l=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error("Error saving ".concat(e," to localStorage:"),t)}};function d(e){let{children:t}=e,[r,d]=(0,s.useState)([]),[c,f]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[v,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=u("invoices",i),t=u("budgets",[]),r=u("clients",o);d(e),f(t),p(r),g(!0)},[]),(0,s.useEffect)(()=>{v&&(l("invoices",r),l("budgets",c),l("clients",m))},[r,c,m,v]);let y=e=>{let[t,r,n]=e.split("/").map(Number);return new Date(n,r-1,t)};return(0,n.jsx)(a.Provider,{value:{invoices:r,addInvoice:e=>{d(t=>[...t,e])},updateInvoice:(e,t)=>{d(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteInvoice:e=>{d(t=>t.filter(t=>t.id!==e))},getInvoiceById:e=>r.find(t=>t.id===e),budgets:c,addBudget:e=>{f(t=>[...t,e])},updateBudget:(e,t)=>{f(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteBudget:e=>{f(t=>t.filter(t=>t.id!==e))},getBudgetById:e=>c.find(t=>t.id===e),clients:m,addClient:e=>{let t=Math.max(0,...m.map(e=>e.id))+1,r={...e,id:t};p(e=>[...e,r])},updateClient:(e,t)=>{p(r=>r.map(r=>r.id===e?{...r,...t}:r))},deleteClient:e=>{p(t=>t.filter(t=>t.id!==e))},getClientById:e=>m.find(t=>t.id===e),getTotalBilling:()=>r.reduce((e,t)=>e+Number.parseFloat(t.total.replace("€","").replace(",","")),0),getPendingInvoicesCount:()=>r.filter(e=>"Pendiente"===e.status).length,getActiveClientsCount:()=>{let e=new Date;e.setMonth(e.getMonth()-3);let t=new Set;return r.forEach(r=>{y(r.date)>=e&&t.add(r.client)}),t.size},getQuarterlyVAT:()=>{let e=new Date,t=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1);return r.filter(e=>y(e.date)>=t).reduce((e,t)=>e+Number.parseFloat(t.tax.replace("€","").replace(",","")),0)}},children:t})}function c(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,q:()=>i});var n=r(12115),s=r(95155);function i(e,t){let r=n.createContext(t),i=e=>{let{children:t,...i}=e,o=n.useMemo(()=>i,Object.values(i));return(0,s.jsx)(r.Provider,{value:o,children:t})};return i.displayName=e+"Provider",[i,function(s){let i=n.useContext(r);if(i)return i;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function o(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),a=r.length;r=[...r,i];let u=t=>{let{scope:r,children:i,...u}=t,l=r?.[e]?.[a]||o,d=n.useMemo(()=>u,Object.values(u));return(0,s.jsx)(l.Provider,{value:d,children:i})};return u.displayName=t+"Provider",[u,function(r,s){let u=s?.[e]?.[a]||o,l=n.useContext(u);if(l)return l;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(i,...t)]}},52712:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(12115),s=globalThis?.document?n.useLayoutEffect:()=>{}},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(52596),s=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}},60677:(e,t,r)=>{"use strict";r.d(t,{Qg:()=>m,Sb:()=>v,US:()=>d,aD:()=>g,eC:()=>p,tE:()=>l,y8:()=>f});var n=r(95155),s=r(12115),i=r(26621),o=r(74466),a=r(54416),u=r(53999);let l=i.Kq,d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.LM,{ref:t,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...s})});d.displayName=i.LM.displayName;let c=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=s.forwardRef((e,t)=>{let{className:r,variant:s,...o}=e;return(0,n.jsx)(i.bL,{ref:t,className:(0,u.cn)(c({variant:s}),r),...o})});f.displayName=i.bL.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.rc,{ref:t,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...s})});m.displayName=i.rc.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.bm,{ref:t,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...s,children:(0,n.jsx)(a.A,{className:"h-4 w-4"})})});p.displayName=i.bm.displayName;let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.hE,{ref:t,className:(0,u.cn)("text-sm font-semibold",r),...s})});v.displayName=i.hE.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.VY,{ref:t,className:(0,u.cn)("text-sm opacity-90",r),...s})});g.displayName=i.VY.displayName},63655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>u,sG:()=>a});var n=r(12115),s=r(47650),i=r(99708),o=r(95155),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...s}=e,a=n?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function u(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},64306:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,19324,23)),Promise.resolve().then(r.bind(r,34693)),Promise.resolve().then(r.bind(r,42181))},85185:(e,t,r)=>{"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{m:()=>n})}},e=>{var t=t=>e(e.s=t);e.O(0,[533,455,836,441,684,358],()=>t(64306)),_N_E=e.O()}]);